# Codeception Test Suite Configuration
#
# Suite for acceptance tests.
# Perform tests in browser using the WPWebDriver or WPBrowser.
# Use WPDb to set up your initial database fixture.
# If you need both WPWebDriver and WPBrowser tests - create a separate suite.


bootstrap: _bootstrap.php
actor: AcceptanceTester
extensions:
  enabled:
    - CodeceptionExtensionRunProcess:
      0: chromedriver --url-base=/wd/hub
    - CodeceptionExtensionRunFailed
  commands:
    - CodeceptionCommandGenerateWPUnit
    - CodeceptionCommandGenerateWPRestApi
    - CodeceptionCommandGenerateWPRestController
    - CodeceptionCommandGenerateWPRestPostTypeController
    - CodeceptionCommandGenerateWPAjax
    - CodeceptionCommandGenerateWPCanonical
    - CodeceptionCommandGenerateWPXMLRPC
modules:
  enabled:
    - WPWebDriver
    - WPDb
    WPWebDriver:
      url: '%TEST_SITE_WP_URL%'
      port: '%WP_PORT%'
      window_size: maximize
      host: localhost
      adminUsername: '%TEST_SITE_ADMIN_USERNAME%'
      adminPassword: '%TEST_SITE_ADMIN_PASSWORD%'
      adminPath: '%TEST_SITE_WP_ADMIN_PATH%'
      browser: chrome
        capabilities:
          chromeOptions:
            args: ["--user-agent=wp-browser", "--ignore-certificate-errors"]
    WPDb:
      dsn: 'mysql:host=%TEST_SITE_DB_HOST%;dbname=%TEST_SITE_DB_NAME%;port=%TEST_SITE_DB_PORT%'
      user: '%TEST_SITE_DB_USER%'
      password: '%TEST_SITE_DB_PASSWORD%'
      dump: '%TEST_SITE_DB_DUMP%'
      populate: true
      cleanup: true
      waitlock: 10
      url: '%TEST_SITE_WP_URL%'
      urlReplacement: true
    WPWebDriver:
